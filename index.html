<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Eth2 Medalla Data Analysis - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important;position:relative}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{height:40px;padding:10px 4px;border-top-left-radius:0;border-bottom-left-radius:0}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:20px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:50%;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;text-decoration:none;padding-left:22px}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em;font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h1 id="Eth2-Medalla-Data-Analysis" data-id="Eth2-Medalla-Data-Analysis"><a class="anchor hidden-xs" href="#Eth2-Medalla-Data-Analysis" title="Eth2-Medalla-Data-Analysis"><span class="octicon octicon-link"></span></a><span>Eth2 Medalla Data Analysis</span></h1><p><em><span>By Elias Simos and Sid Shekhar</span></em></p><h2 id="Table-of-Contents" data-id="Table-of-Contents"><a class="anchor hidden-xs" href="#Table-of-Contents" title="Table-of-Contents"><span class="octicon octicon-link"></span></a><span>Table of Contents</span></h2><p><span class="toc"><ul>
<li><a href="#Eth2-Medalla-Data-Analysis" title="Eth2 Medalla Data Analysis">Eth2 Medalla Data Analysis</a><ul>
<li><a href="#Table-of-Contents" title="Table of Contents">Table of Contents</a></li>
<li><a href="#Key-Takeaways" title="Key Takeaways">Key Takeaways</a></li>
<li><a href="#Benchmarking-Client-Performance" title="Benchmarking Client Performance">Benchmarking Client Performance</a></li>
<li><a href="#Validator-Groupings" title="Validator Groupings">Validator Groupings</a><ul>
<li><a href="#Grouping-results" title="Grouping results">Grouping results</a></li>
</ul>
</li>
<li><a href="#Big-Picture" title="Big Picture">Big Picture</a><ul>
<li><a href="#Epochs-2000-to-4000-a-rough-time-for-Medalla" title="Epochs 2000 to 4000; a rough time for Medalla">Epochs 2000 to 4000; a rough time for Medalla</a></li>
<li><a href="#Slashings" title="Slashings">Slashings</a></li>
<li><a href="#Defining-normality-missed-to-proposed-blocks" title="Defining normality: missed-to-proposed blocks">Defining normality: missed-to-proposed blocks</a></li>
</ul>
</li>
<li><a href="#Network-Health" title="Network Health">Network Health</a><ul>
<li><a href="#Network-health-Detected-to-Total-slashable-offences" title="Network health: Detected-to-Total slashable offences">Network health: Detected-to-Total slashable offences</a></li>
<li><a href="#Network-health-Aggregate-inclusion-delay" title="Network health: Aggregate inclusion delay">Network health: Aggregate inclusion delay</a></li>
<li><a href="#Network-health-Finality" title="Network health: Finality">Network health: Finality</a></li>
</ul>
</li>
<li><a href="#Aggregation-Performance" title="Aggregation Performance">Aggregation Performance</a><ul>
<li><a href="#Committee-growth-over-time" title="Committee growth over time">Committee growth over time</a></li>
<li><a href="#Zooming-in---attestations-included-on-chain" title="Zooming in - attestations included on-chain">Zooming in - attestations included on-chain</a></li>
</ul>
</li>
<li><a href="#Validator-Effectiveness" title="Validator Effectiveness">Validator Effectiveness</a><ul>
<li><a href="#Attester-effectiveness" title="Attester effectiveness">Attester effectiveness</a></li>
<li><a href="#Proposer-effectiveness" title="Proposer effectiveness">Proposer effectiveness</a></li>
</ul>
</li>
<li><a href="#Conclusion" title="Conclusion">Conclusion</a></li>
<li><a href="#Helpful-Resouces" title="Helpful Resouces">Helpful Resouces</a></li>
<li><a href="#Acknowledgements" title="Acknowledgements">Acknowledgements</a></li>
<li><a href="#About-the-authors" title="About the authors">About the authors</a></li>
</ul>
</li>
</ul>
</span></p><h2 id="Key-Takeaways" data-id="Key-Takeaways"><a class="anchor hidden-xs" href="#Key-Takeaways" title="Key-Takeaways"><span class="octicon octicon-link"></span></a><span>Key Takeaways</span></h2><ul>
<li><span>Under “normal” conditions, approx. 3/4 of block slots available were proposed and 1/4 was missed.</span></li>
<li><span>A good network is a network with enough diversity in tooling and clients. So far it looks like Prysm has the edge in market share, but Lighthouse is climbing fast.</span></li>
<li><span>94% of the attester slashings we observed took place during epochs 2000 and 4000, while the network could not reach the required threshold fo finality, slashing inactive validators in order to bring the threshold down.</span></li>
<li><span>80% of the validators on the network are concentrated between 20 groups, many of which are developers, infrastructure providers and Staking as a Service firms.</span></li>
<li><span>The network has included more than double the number of actived validator in attestations, on average. We define “attestations bloat” as the excess number of attestations included on chain.</span></li>
<li><span>Although a lot of progress has been made, the tooling is still young.</span></li>
<li><span>At the same time, it looks like it will be a case of “gradually and then suddenly”. High complexity, incomplete tooling, and frozen ETH deterring factors - although a big opportunity for the brave early adopters (reward structure).</span></li>
<li><span>Eth2 is complex - this will likely lead to concentration at deeper layers of the network (infra providers, client software etc).</span></li>
<li><span>The P2P layer is an very underexplored area - data ephemeral, difficult to get etc. This is the underbelly of the network, and absent transfers on Phase 0, likely where some of the most important insights will come from.</span></li>
</ul><h2 id="Benchmarking-Client-Performance" data-id="Benchmarking-Client-Performance"><a class="anchor hidden-xs" href="#Benchmarking-Client-Performance" title="Benchmarking-Client-Performance"><span class="octicon octicon-link"></span></a><span>Benchmarking Client Performance</span></h2><p><span>We ran and tested out 4 main Ethereum 2.0 beacon chain clients - Lighthouse, Prysm, Nimbus, and Teku - to see how performance differs across them.</span></p><p><strong><span>Setup</span></strong></p><p><span>All 4 clients were launched on virtual machines on google cloud - hosted in the europe-west-1-b (London) region.</span></p><p><span>The machines were general purpose E2 machine type with 32 vCPUs (Intel Skylake) and 128 GB memory. We also attached a 1024 GB SSD persistent disk to each VM to allow for ample data storage space and optimal I/O. The host systems were all running Ubuntu 18.04 LTS (from the ubuntu-1804-bionic-v20200923 image managed by Google).</span></p><p><span>To emulate a semi-professional validator set up, we ran each client on a separate VM instance and also ran Eth1 geth nodes on the same instance as the beacon chain client so as to minimize dependency on Infura or external network factors.</span></p><p><strong><span>Client Versions</span></strong></p><ul>
<li><span>Lighthouse - v0.2.13 built from source on Oct 7th 23:30 UTC using Make</span></li>
<li><span>Prysm - v1.0.0-alpha.28 built using installation script on Oct 7th 14:00 UTC</span></li>
<li><span>Nimbus - beacon_node v0.5.0 from source on Oct 10th 00:00 UTC using Make</span></li>
<li><span>Teku - v0.12.10 built from source on Oct 11th 23:00 UTC using Gradle</span></li>
</ul><p><strong><span>Initial Synchronization Times</span></strong></p><ul>
<li><span>Lighthouse: 5 hours &amp; 27 minutes</span></li>
<li><span>Prysm: 8 hours &amp; 27 minutes</span></li>
<li><span>Nimbus: 28 hours &amp; 11 minutes</span></li>
<li><span>Teku: 24 hours &amp; 16 minutes</span></li>
</ul><p><img src="https://i.imgur.com/CGU51AN.png" alt=""></p><p><span>Some interesting points of note regarding our experience with the 4 different clients:</span></p><ul>
<li><span>As you can see above, the Lighthouse client was by far the fastest beacon chain client in terms of initial sync time (followed by Prysm a few hours later). However one anecdotal observation we had was that in our instance it disconnected from the locally running geth node after the sync period and we had to manually restart the Lighthouse systemd service (on which the node was configured) in order to re-establish connectivity.</span></li>
<li><span>By scanning through the Nimbus logs (available </span><a href="https://" target="_blank" rel="noopener"><span>here</span></a><span>), we saw that over the course of the sync duration (~1 day and 4 hours), there were 260 times when the syncing progress stopped progressing and the queue had to be reset. The node seems to recover fine from these instances so overall performance does not seem to be adversely impacted too much, but thought it was noteworthy to mention.</span></li>
<li><span>A somewhat similar pattern was found within the Teku node logs, which indicated that during 1376 different instances during the syncing process (which took 1 day and 16 minutes), the head block update was skipped as the justified checkpoint was updated while loading checkpoint state. Similar to Nimbus, this does not seem to have had a discernible effect on sync speed or performance as syncing resumed shortly thereafter.</span></li>
</ul><p><em><span>We will drill down into performance of validators per client later.</span></em></p><h2 id="Validator-Groupings" data-id="Validator-Groupings"><a class="anchor hidden-xs" href="#Validator-Groupings" title="Validator-Groupings"><span class="octicon octicon-link"></span></a><span>Validator Groupings</span></h2><p><span>Before we get into the minutiae of overall network and validator performance, it is useful to outline the approach we took to grouping network participants and briefly discussing the outcomes. This will help us sketch out relative performance of different groups that participated in the Testnet later on, untangling the aggregates into the sum of (some of) the network’s parts.</span></p><p><strong><span>Data structures in eth2 related to validator identity</span></strong></p><p><span>First - an outline of the data structures that helped us bucket over 85% of the validators that have been active in Medalla since the Testnet came online. Every validator that is visible on the network is described by their attributed validator_index (an integer), a public_key and withdrawal_credentials pair, as well as a name that they can choose to identify themselves with (optional).</span></p><p><span>The public_key is a unique identifier for a validator - equivalent to an eth1 address, that corresponds to a private_key that is used to sign messages. The withdrawal_credentials, on the other hand, is a hash of the public key that will be used to withdraw funds from the validator. The design of eth2, allows participants to map the withdrawal_credentials to multiple validators (index, pubkey), in order to make it easier to withdraw funds from multiple validators.</span></p><p><img src="https://i.imgur.com/FfcnvI9.jpg" alt=""></p><p><span>Further, validator pubkeys also map to various eth1 addresses that are used to fund the validator with ETH. This the address that a staker will use to transfer funds into the escrow contract, in order to participate in Phase 0 of eth2.</span></p><p><span>Finally, when signing blocks a proposer can include a string to the block that will be publicly visible to the network - called graffiti. We have observed that a sizeable number of proposers choose to use the graffiti field to signal pieces of their identity to the rest of the network.</span></p><p><img src="https://i.imgur.com/lcc6wQg.jpg" alt=""></p><p><span>Given the publicly available information, the main avenues we took in order to group network participants are mapping (i) withdrawal_credentials to validator_index, (ii) eth1 deposit addresses to validator_index, (iii) name to withdrawal_credentials, and (iv) graffiti to validator_index.</span></p><h3 id="Grouping-results" data-id="Grouping-results"><a class="anchor hidden-xs" href="#Grouping-results" title="Grouping-results"><span class="octicon octicon-link"></span></a><span>Grouping results</span></h3><p><span>The two main categories that we found the most interesting in this segmentation exercise were (i) grouping by client software and (ii) grouping by name, withdrawal_credentials and eth1 deposit address to triangulate some form of identity. The data for (i) came predominantly from the graffiti field of proposed blocks, while for (ii) we first mapped withdrawal credentials to validator index and then proceeded to add names, and eth1 address commonalities to the same grouping.</span></p><p><span>When grouping by client, we managed to identify roughly ⅓ of all validators in Medalla. In that group, ~65% are running on a Prysm client, 25% on Lighthouse and the remainder is evenly split between Nimbus and Teku - with a small fraction (&lt;1%) running on Lodestar. Given the client performance we noted in the previous section, the results are unsurpring. [comment]</span></p><p><img src="https://i.imgur.com/23DYSQl.jpg" alt=""></p><p><span>Now, when grouping by “identity” the results get a lot more interesting! What we found is that over 25% of the validators on Medalla can be linked back to 4 core groups, and 75% of the validators to ONLY 22 groups. Among those, we were able to discern a few known Staking as a Service outfits, possibly the Ethereum Foundation, and a handful of client software development organizations.</span></p><p><img src="https://i.imgur.com/WI0B94l.jpg" alt=""></p><p><span>When overlaying our grouping by client to the top-30 identified groups, we were able to uncover only about 15% of the client choices the top participants have made - not enough to come to serious conclusions about what the leading validator groups are running.</span></p><p><img src="https://i.imgur.com/Wg0V3kN.jpg" alt=""></p><p><span>Where we got some very interesting results was in mapping the same top-30 groups to their pubkey-to-withdrawal credentials choice. In this view we were able to segment between 2 distinct groups - those that spawned 1 withdrawal credential per validator they ran, and those that opted for spawning only a handful (most often just one) withdrawal credential, for the whole set of validators they ran.</span></p><p><img src="https://i.imgur.com/vBPys1w.jpg" alt=""></p><p><span>A couple of key insights from this view that we think are worth highlighting is that in the one-to-one group (red above), the top players are likely highly programmatic in the way they manage their withdrawal keys, and are more likely to be entities that will support staking services or infrastructure in a non-custodial manner. Conversely in the many-to-one set, 3 out of 4 groups that we were able to proxy an identity for (the 1st set of validators to activate in Medalla - likely associated with the Ethereum Foundation, Rocketpool and Stakewise), are single entities that are more likely to manage validator deposits in a custodial manner - either from Treasury (EF) or from a Staking Pool (Stakewise, Rocketpool).</span></p><p><span>If we assume that the 4 unidentified groups in the many-to-one set also are planning to operate in a custodial manner, but would rather conceal their identity, we could further assume that their real identity maps to an institutional or near-institutional player - such as an exchange or a large custodian!</span></p><p><span>If this is true, given that the number of these types of players in the market is far larger than “just” four, it could be a nod towards a non-committal strategy towards eth2 (i.e. wait and see).</span></p><p><span>Finally, an area that we wanted to explore, but ended up not to - due to resource and time constraints, was revealing information about the distribution of participants along the validator-to-validator client ratio. This would be particularly helpful in defining the risk-to-cost preferences of Medalla’s validator groups - a ratio closer to 1:1 would point to low-risk tolerance (as when a client goes down, it only takes one validator with it) and vice versa, as well as overall network infrastructure risk exposure. Some anecdotal data that we were able to gather point to a fairly wide range, of between 8 and 1024 validators per validator client.</span></p><h2 id="Big-Picture" data-id="Big-Picture"><a class="anchor hidden-xs" href="#Big-Picture" title="Big-Picture"><span class="octicon octicon-link"></span></a><span>Big Picture</span></h2><p><span>The analysis we did here captures epochs: [0, 14572] which map to slots: [0 to 466,335] - a time window that corresponds to approximately the beginning of Medalla (Aug 4th, 2020) to the first half of October 2020 (8th).</span></p><p><span>Over the course of this window, over 78,846 unique validator indices became active on Medalla. The maximum number of active validators observed stands at 72,554 and the maximum amount of staked Testnet ETH, stood at 2,354.</span></p><p><span>Off the total slots that became available,  334,484 [71%] were proposed as intended by the protocol, 127,172 [27%] were missed and 4,800 [2%] were orphaned.</span></p><p><span>Further, we observed 1009 voluntary exits and 5,186 slashings - 46 of which were proposer slashings and 5140 were attester slashings. These roughly map to 0.0132% of total proposals and y% of valuable attestations.</span></p><p><span>Network growth over time</span><br>
<img src="https://i.imgur.com/8ryAX5o.jpg" alt=""></p><p><span>27% of the validators that were active over the Testnet’s life cycle were activated on epoch 0.  In eth2 ⅔ of activated validators need to get valuable attestations included by block proposers (i.e. attestations that are rewarded by the protocol), in order for the chain to be finalized (i.e. the state of the chain becomes “set in stone”). This means that the threshold for finality at the start of Medalla stood at ~13.3k valuable attestations.</span></p><p><span>From that point onwards, it was a steady rise for the activated validator count; roughly 10k validators were added to Medalla every 2000 epoch’s (~9 days). Interestingly though while more validators were deployed, no new significant entities/groups entered the Testnet at its later stages - with the notable exception of the group we were able to map to a Rocketpool affiliated entity that first entered around epoch 14,000. In fact, from the Top-20 groups by deployed validators, most entered before epoch 5,000 and a large majority were active since Genesis.</span></p><h3 id="Epochs-2000-to-4000-a-rough-time-for-Medalla" data-id="Epochs-2000-to-4000-a-rough-time-for-Medalla"><a class="anchor hidden-xs" href="#Epochs-2000-to-4000-a-rough-time-for-Medalla" title="Epochs-2000-to-4000-a-rough-time-for-Medalla"><span class="octicon octicon-link"></span></a><span>Epochs 2000 to 4000; a rough time for Medalla</span></h3><p><span>A glaring exception in the steady growth pattern of activated validators, is the window between epoch 2,000 and epoch 4,000 - the period in which the roughtime incident took place. We recommend Raul Jordan’s breakdown of the incident for more context around it [here].</span></p><p><span>A quick look at ETH deposits over time, gives us a clearer view of the network interruption during the incident; no deposits took place approx. between epoch 2200 and 3500, while we are observing a similar density of deposits at Testnet start, and at Testnet “re-start”.</span></p><p><img src="https://i.imgur.com/QP63RHW.jpg" alt=""></p><p><span>While no new validators were added on Medalla during the roughtime incident, attesters were getting slashed; in fact, 94% of the total attester slashings took place in the window between epoch 2000 and 4000! The magnitude of the aggregate slashings in this period is likely due to the fact that the inactivity leak kicked in - eth2’s “self-healing” mechanism that corrects the ratio of active-to-activated validators upwards, by reducing the balances of activated-yet-inactive validators more aggressively, so that the chain can come to finality (the ⅔ rule).</span></p><p><img src="https://i.imgur.com/7mM446D.jpg" alt=""></p><h3 id="Slashings" data-id="Slashings"><a class="anchor hidden-xs" href="#Slashings" title="Slashings"><span class="octicon octicon-link"></span></a><span>Slashings</span></h3><p><span>At this point, it’s worth hitting pause for a minute and defining both what slashing is, and the conditions under which a network participant in eth2 might get slashed. Slashing is a core protocol function and mechanism enabler in PoS networks. In very crude terms, if block rewards are the “carrot”, slashing is the “stick” - a negative incentive to keep network participants from misbehaving.</span></p><p><span>In eth2, slashing is predominantly the fate of those validators that either (i) double attest, or (ii) surround vote - attesting to two different versions of chain state.</span></p><p><span>The Casper FFG paper outline the two slashing conditions as follows:</span></p><p><span>Double vote – two conflicting votes getting included for the same target checkpoint (t), but different source check point (s).</span><br>
<span>Surround vote – a vote with source and target surrounding or surrounded by previously made vote, such that :</span></p><ul>
<li><span>s2 &gt; s1 and t2 &lt; t1, or</span></li>
<li><span>s1 &lt; s2 &lt; t2 &lt; t1</span></li>
</ul><p><img src="https://i.imgur.com/XrQSw1O.jpg" alt=""></p><p><span>As mentioned earlier - and evident from the isolated attester slashing view below, the crushing majority of attester slashings took place between epochs 2000 and 4000. During the roughtime event, as client clocks went out of sync with network time, attesters started issuing votes that had a large delta between source and target epoch (over 40 epochs, while the protocol is targeting for 2).</span></p><p><img src="https://i.imgur.com/hGuxGbg.jpg" alt=""></p><p><span>Proposer slashings are a little more straight forward than attester slashings and center around double proposals of blocks. In Medalla, these have been few and far between, with the majority concentrated around epoch 13,700. Our initial thought was that this was either due to a bug, or a client software upgrade that included a better “slasher” module.</span></p><p><img src="https://i.imgur.com/Qttykvw.jpg" alt=""></p><p><span>After inspecting both the proposers that included the proofs and the proposers that got slashed, we think that the former is more likely as there was no evident pattern in the whistleblower client type (we were able to map about 30% of those), but we were able to map the slashed proposers to an overwhelming majority running the Nimbus client. Off the slashed proposers ~60% were wearing Nimbus, and when zooming in to the high density epoch range, that percentage grew to over 85%.</span></p><p><img src="https://i.imgur.com/KNVe7U5.jpg" alt=""></p><h3 id="Defining-normality-missed-to-proposed-blocks" data-id="Defining-normality-missed-to-proposed-blocks"><a class="anchor hidden-xs" href="#Defining-normality-missed-to-proposed-blocks" title="Defining-normality-missed-to-proposed-blocks"><span class="octicon octicon-link"></span></a><span>Defining normality: missed-to-proposed blocks</span></h3><p><span>Looking at the ratio of missed-to-proposed blocks per epoch - over time, it becomes apparent that the bulk of attester slashings took place under “abnormal” network conditions. During the roughtime incident and for a period of approx. 1,500 epochs (1 week), 75% of the slots available to block proposers, were missed. Without enough blocks being proposed, the network could not achieve finality for a prolonged period of time.</span></p><p><img src="https://i.imgur.com/WtbwmFS.jpg" alt=""></p><p><span>The above view, coarse as it may be, is an opportunity to define the distinction between “normal” and “abnormal” network conditions. In a perfect world, 100% of the block slots available would be proposed - helping the network to continue moving in perpetuity, all activated attesters would vote and so on; alas, the world is not perfect - but it can still be “normal”!</span></p><p><span>When plotting out the distributions of missed and proposed block slots over the set of epoch’s we’re basing this analysis on, we found that they both follow approximately normal distributions, with fat tails left and right that capture the essence of “abnormal” network conditions, like the roughtime bug.</span></p><p><img src="https://i.imgur.com/SPacATq.jpg" alt=""></p><p><img src="https://i.imgur.com/O6iJ2un.jpg" alt=""></p><p><span>When excluding the roughtime incident (the fat tail) from the set of observations (broadly epoch 2000 to 4000), we found that under “normal” conditions, Medalla clocked at 3:1 proposed to missed slots! This means that in every epoch, 24 slots were proposed and 7 were missed on average. [comment here - is this expected? Is the network under performing? This is a testnet after all but what does it imply for Phase 0]</span></p><p><span>At this point, it’s also worth noting that under “normal” conditions the Uncle Rate for Medalla stood at roughly 1% of all block slots per epoch - a stark contrast to the ~5% on average that eth1.x produces. [eth1 rewards orphaned blocks, eth2 doesn’t?]</span></p><p><span>The rate of orphaned blocks (correct blocks that do not make it on the canonical chain due to latency issues in the P2P layer of the network - i.e. the message doesn’t make it on time) remained stable over the course of the Testnet, with notable spikes around the beginning of the roughtime incident, and at around epoch 13,700, when the network appears to have experienced another short spurt of high latency, leading to both 70% of the blocks being orphaned for the duration of an epoch and more than 60% of all block slots being missed a few epochs later.</span></p><p><img src="https://i.imgur.com/cN9KERA.jpg" alt=""></p><p><span>The above observations raise a set of important questions around the stability of the network, its overall performance vs its benchmarks, and its ability to self-correct in “unstable” times. In order to be better able to judge when the protocol penalises participants for misbehaviour, it is useful to define the parameters that govern “network health”.</span></p><p><span>We explore those in the following section.</span></p><h2 id="Network-Health" data-id="Network-Health"><a class="anchor hidden-xs" href="#Network-Health" title="Network-Health"><span class="octicon octicon-link"></span></a><span>Network Health</span></h2><p><span>At a high enough level, the purpose of eth2 is to be a source of truth. In order to fulfil its purpose effectively, the protocol deploys an incentive structure (staking) to engage and align a varied set of network participants in a game of truth-telling.</span></p><p><span>A healthy network then, is a network in which the participants tell the truth at a much higher rate than not telling, or lying - and do so in perpetuity.</span></p><p><span>To unpack this a little more, there are four key components that define “desired behaviour”  among network participants, that stem from the above statement; (i) the participants should “speak”, (ii) they should tell the “truth” when they “speak”, (iii) they must do so round-after-round and remain incentivized to do so - trusting that the game they are playing is fair, and (iv) they must agree “enough” on aggregate so that other participants and/or observers are able to reference events that are recorded in network history as “truth”.</span></p><p><span>With this in mind, we take a step beyond the missed-to-proposed blocks ratio and dive deeper into the following key components of network health; (a) the inclusion lag of, (b) slashings, © attestations equality distribution and (d) finalization distance.</span></p><h3 id="Network-health-Detected-to-Total-slashable-offences" data-id="Network-health-Detected-to-Total-slashable-offences"><a class="anchor hidden-xs" href="#Network-health-Detected-to-Total-slashable-offences" title="Network-health-Detected-to-Total-slashable-offences"><span class="octicon octicon-link"></span></a><span>Network health: Detected-to-Total slashable offences</span></h3><p><span>Starting out, our goal here was to arrive at a ratio of detected-to-slashable offences, by surveying all proposals and attestations for slashable offences and comparing those to the events that were actually included on-chain. Once again, due to resource and time constraints we weren’t able to replicate this - but strongly encourage further research in this area.</span></p><p><span>We will attempt to close the loop here and backfill when we do.</span></p><h3 id="Network-health-Aggregate-inclusion-delay" data-id="Network-health-Aggregate-inclusion-delay"><a class="anchor hidden-xs" href="#Network-health-Aggregate-inclusion-delay" title="Network-health-Aggregate-inclusion-delay"><span class="octicon octicon-link"></span></a><span>Network health: Aggregate inclusion delay</span></h3><p><span>The inclusion delay is a key moderating factor to the reward an attester stands to achieve by voting on blocks (see a post from </span><a href="http://beaconcha.in" target="_blank" rel="noopener"><span>beaconcha.in</span></a><span> for an overview of how this works, here). By protocol rules, the quickest an attester can get their vote in on block n, is on block n+1 - which means that the inclusion delay is at minimum 1. If they manage to do so, they stand to win the maximum attester reward. For every additional block the inclusion is delayed, the rewards reduce.</span></p><p><span>Given the above, the “aggregate” inclusion delay, across the whole set of attesters over time can give us a good view into how efficiently the body of attesters is performing their given tasks - and abstracting this a little further, how well they are being remunerated over time.</span></p><p><img src="https://i.imgur.com/sKsivYa.jpg" alt=""></p><p><img src="https://i.imgur.com/9yFqjtn.jpg" alt=""></p><p><span>In the aggregated view above, we looked at the whole set of attestations that were submitted on the Tesnet and their respective inclusion delays, calculating the average delays per epoch, per validator. While a coarse view (arguably including only valuable attestations would have been more accurate), we feel it is enough to draw conclusions from - and good ones at that!</span></p><p><span>While pre-roughtime the aggregate inclusion lag ranged between 5 and 15 block slots (possibly because of the same clock synchronization issues that caused the roughtime incident), post-roughtime the aggregate inclusion lag smoothed out over time - from an average of 9 slots in epoch 4,000 to approximately 4 by epoch 14,700.</span></p><h3 id="Network-health-Finality" data-id="Network-health-Finality"><a class="anchor hidden-xs" href="#Network-health-Finality" title="Network-health-Finality"><span class="octicon octicon-link"></span></a><span>Network health: Finality</span></h3><p><span>“Finality” is a state the chain achieves, where a block (and its contents - e.g. transactions) cannot any more be changed without a large percentage of stake getting destroyed. Eth2 guarantees finalityThe goal for eth2 is to achieve finality within 2 epochs</span></p><p><span>Our goal in this section was to create a view where we could visualize when valuable attestations that help eth2 achieve finality, get included on-chain. In order to do this, we took the dataset of total grouped attestations, disaggregated them, found which ones were included first (valuable attestations), and measured the delta between target epoch and epoch included on-chain. What we present you with here is a subset  grouped attestations.</span></p><p><img src="https://i.imgur.com/Fns4UgZ.jpg" alt=""></p><p><span>Extending the view to all 14,700 epochs, involves going through a dataset of over 15M rows (~6.5GB in an aggregated state and probably much larger when disaggregated). While this exercise has proven to come with its own set of challenges, we’re confident we will be able to crack this, and will backfill here when we do.</span></p><h2 id="Aggregation-Performance" data-id="Aggregation-Performance"><a class="anchor hidden-xs" href="#Aggregation-Performance" title="Aggregation-Performance"><span class="octicon octicon-link"></span></a><span>Aggregation Performance</span></h2><p><span>Aggregation in eth2, is the act of collecting valuable network information from the P2P layer (rumor) and packaging it together in order to submit it on chain, in an efficient way. At a high level, it is the work that some of the attester nodes perform in each consensus round and it involves hashing together individual attestation signatures that are broadcasted by other nodes in the P2P network, and submitting them as a group to the block proposer for inclusion in the chain.</span></p><p><img src="https://i.imgur.com/cBuCRg8.png" alt=""></p><p><span>It also happens that attestations in eth2 is the consensus function that takes up the most chain space  - especially in Phase 0 when no transactions will take place on-chain! It then follows that aggregation is not only helpful, but rather a vital protocol function in an eth2 chain that is designed for scalability.</span></p><p><span>Broadly, there are two ways to go about figuring out the value of a transaction after it has happened; you either look at the account balance of the “sender” to see how much his total balance has reduced, or you look at the account of the “receiver” to find how much its balance has increased. In a similar fashion, in order to understand the effectiveness of aggregations in eth2, we can either look at the source directly (P2P layer), or look at the outcome that has printed on-chain. Given that we weren’t able to access a meaningful enough historical dataset from the P2P layer, we opted for the latter.</span></p><h3 id="Committee-growth-over-time" data-id="Committee-growth-over-time"><a class="anchor hidden-xs" href="#Committee-growth-over-time" title="Committee-growth-over-time"><span class="octicon octicon-link"></span></a><span>Committee growth over time</span></h3><p><span>Taking a step back to add some context, according to protocol rules, every activated validator is allocated an attestation slot at every epoch the protocol recognizes them as “activated”. The attesters are further organized in committees, and within those committees some of them are chosen as aggregators. The minimum committee size that the protocol targets is 128 attesters, and the maximum is ~5,000. It then follows that as the activated validator set increases, so will the number of committees.</span></p><p><span>Indeed, as more validators entered Medalla the aggregate committee size per target slot increased relatively linearly with them - starting from 4 committees per slot at start (~20k validators) and reaching up to 17 per slot at the end of the analysis window. This maps to growth equivalent to 128 unique committees at start and 544 unique committees per epoch at the end, with the average validators on committee per epoch reducing from 156 to 137.</span></p><p><img src="https://i.imgur.com/tgtUYTj.jpg" alt=""></p><p><span>Interestingly, the step pattern that committee growth followed over time, appears broken at times of “abnormal” network conditions. Indeed the two most significant subsets of the whole, map exactly on epochs that over 70% of blocks were missed!</span></p><h3 id="Zooming-in---attestations-included-on-chain" data-id="Zooming-in---attestations-included-on-chain"><a class="anchor hidden-xs" href="#Zooming-in---attestations-included-on-chain" title="Zooming-in---attestations-included-on-chain"><span class="octicon octicon-link"></span></a><span>Zooming in - attestations included on-chain</span></h3><p><span>While when zoomed-out at the committee level the picture looks like one of growth and prosperity, zooming in to the individual attestations that were committed on-chain over the duration of Medalla, concerns a more odd picture starts to form.</span></p><p><span>In order to arrive at this view, we disaggregated all aggregated attestations and counted the number of unique validator indices that map to each unique committee - defined by its target slot and committee index. What we found, we did not exactly expect…</span></p><p><img src="https://i.imgur.com/ITjwV36.jpg" alt=""></p><p><img src="https://i.imgur.com/JnMiFOc.jpg" alt=""></p><p><span>The two views above, represent the disaggregated attester votes found in unique committees over time - per target slot and per epoch. A quick scan points to the fact that from the start, Medalla included a lot more attester votes on chain than activated validators. Both the ratio of attestations included on chain to activated validators, and an abbreviated table view taken from a set of random epochs marks agree.</span></p><p><img src="https://i.imgur.com/jBn2CNZ.jpg" alt=""></p><p><img src="https://i.imgur.com/EIEtNB0.png" alt=""></p><p><span>While once again, across another key indicator of network performance things appear to have improved after the roughtime incident, it appears that between epochs 4,000 and 14,700 the attestations bloat - a metric we define as the delta of the included attestations per slot (or epoch) and the maximum expected valuable attestations given the set of activated validators, stood at over 100%. Discounted for our finite knowledge of protocol rules, as pure observers, we see two possible reasons for this; (i) hyperactive attesters and (ii) ineffective aggregators. Both link straight back to the client software the nodes are running on.</span></p><p><img src="https://i.imgur.com/pe17KNk.png" alt=""></p><p><span>Given the sheer size of the dataset of aggregated (and then disaggregated) attestations, improving aggregation, both on the client side and possibly the protocol side - from our perspective - appears to be table stakes. A more effective aggregation process, not only means less chain bloat and more space for useful information to be stored, but also directly enhances protocol security and overall guarantees, by allowing whistleblowers to survey past history for protocol level violations faster (and cheaper).</span></p><h2 id="Validator-Effectiveness" data-id="Validator-Effectiveness"><a class="anchor hidden-xs" href="#Validator-Effectiveness" title="Validator-Effectiveness"><span class="octicon octicon-link"></span></a><span>Validator Effectiveness</span></h2><p><span>Validators in eth2 are rewarded for proposing, attesting and whistleblowing. The bulk of the rewards in Phase 0 of eth2, will come from attestations. While the individual rewards of proposing blocks far exceed those of attestations, given that every active validator is called upon to attest at every epoch, this becomes the focal point for validators.</span></p><h3 id="Attester-effectiveness" data-id="Attester-effectiveness"><a class="anchor hidden-xs" href="#Attester-effectiveness" title="Attester-effectiveness"><span class="octicon octicon-link"></span></a><span>Attester effectiveness</span></h3><p><span>Broadly, the two key variables for attesters to optimize along in eth2 are (i) getting valuable attestations included (a function of uptime) and (ii) the inclusion lag. We have developed a methodology to rank validators along those metrics (you can access the code here), based on disaggregating grouped attestations and then aggregating back at the validator_index level - and then aggregating further to the “group” level! While we were able to get the logic to work on a subset of the attestations dataset, the size of the whole has slowed our progress.</span></p><p><span>We will be backfilling this post with the results here once we are able to compute those over the total grouped attestations dataset.</span></p><h3 id="Proposer-effectiveness" data-id="Proposer-effectiveness"><a class="anchor hidden-xs" href="#Proposer-effectiveness" title="Proposer-effectiveness"><span class="octicon octicon-link"></span></a><span>Proposer effectiveness</span></h3><p><span>In the grand scheme of things, being a proposer in eth2 is like a party round for consensus participants. The protocol picks 32 block proposers at every epoch, that are tasked with committing all the attestations (and later transaction data) on chain and finalising a block. They are, in fact, the proverbial tip of the spear in the body of “truth speakers” that make up the network.</span></p><p><span>The probability of becoming a proposer, all else equal, is then 32/n - where n is the total number of activated validators on the network. As the number of network participants grows, the probability of proposing a block diminishes; and so it did in Medalla.</span></p><p><img src="https://i.imgur.com/Igu6WK9.png" alt=""></p><p><span>Be that as it may, we think there is still merit in thinking along the lines of proposer effectiveness. While the infrastructure and best practices (e.g. keeping uptime) to run an effective proposer and an effective attester are virtually identical, we feel this is an overlooked area of study that might hold learnings for both the protocol and the infrastructure layer of eth2.</span></p><p><span>The obvious way to score for proposer effectiveness is a simple ratio on blocks missed vs blocks proposed. However, given that validators entered Medalla at different points in time, we must control for the time each validator has been active (measured in epochs). But just controlling for time active, doesn’t capture the diminishing probability of being selected as one, as the total set of activated validators increases. We then introduce a further optimization in the ratio to capture the difficulty factor - by dividing for the probability of proposing at least once, given a validator’s activation epoch in the Testnet. This is the inverse of the probability that they got no slots since they joined - such that:</span></p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-53-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>A</mi><mi>t</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>O</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>n</mi><mi>o</mi><mi>t</mi><mi>P</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>g</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mi>n</mi></msup></math>" role="presentation" style="font-size: 118%; position: relative;"><span id="MJXc-Node-2325" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2326" class="mjx-mrow"><span id="MJXc-Node-2327" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2328" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">(</span></span><span id="MJXc-Node-2329" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2330" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">r</span></span><span id="MJXc-Node-2331" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2332" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2333" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2334" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2335" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2336" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">A</span></span><span id="MJXc-Node-2337" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2338" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">L</span></span><span id="MJXc-Node-2339" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2340" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">a</span></span><span id="MJXc-Node-2341" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2342" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2343" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.32em;">O</span></span><span id="MJXc-Node-2344" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">n</span></span><span id="MJXc-Node-2345" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">c</span></span><span id="MJXc-Node-2346" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2347" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">)</span></span><span id="MJXc-Node-2348" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.056em; padding-bottom: 0.32em;">=</span></span><span id="MJXc-Node-2349" class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.373em; padding-bottom: 0.32em;">1</span></span><span id="MJXc-Node-2350" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.32em; padding-bottom: 0.426em;">−</span></span><span id="MJXc-Node-2351" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2352" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">(</span></span><span id="MJXc-Node-2353" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">n</span></span><span id="MJXc-Node-2354" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2355" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2356" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2357" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">r</span></span><span id="MJXc-Node-2358" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2359" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2360" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2361" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2362" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">i</span></span><span id="MJXc-Node-2363" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">n</span></span><span id="MJXc-Node-2364" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-2365" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2366" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2367" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">n</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>A</mi><mi>t</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>O</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>n</mi><mi>o</mi><mi>t</mi><mi>P</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>g</mi><msup><mo stretchy="false">)</mo><mi>n</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-53">P(proposeAtLeastOnce) = 1 - P(notProposing)^n</script></span></p><p><span>A more accurate approach, would be to compute the probability that the proposer would be allocated the average number of proposer slots that a random validator achieved from the proposers entry to epoch t.</span></p><p><span>Plotted over ~14,700 epochs, it looks like this:</span></p><p><img src="https://i.imgur.com/wLAIdty.png" alt=""></p><p><span>With this in mind, we proceeded to all validators in Medalla a proposer effectiveness score (PES), such that:</span></p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-54-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mi>E</mi><mi>S</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>P</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>d</mi><mo>&amp;#x2212;</mo><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>M</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>A</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>m</mi><mi>o</mi><mi>d</mi></math>" role="presentation" style="font-size: 118%; position: relative;"><span id="MJXc-Node-2368" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2369" class="mjx-mrow"><span id="MJXc-Node-2370" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2371" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.026em;">E</span></span><span id="MJXc-Node-2372" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.32em; padding-right: 0.032em;">S</span></span><span id="MJXc-Node-2373" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.056em; padding-bottom: 0.32em;">=</span></span><span id="MJXc-Node-2374" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">(</span></span><span id="MJXc-Node-2375" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">(</span></span><span id="MJXc-Node-2376" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2377" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">l</span></span><span id="MJXc-Node-2378" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2379" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2380" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2381" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2382" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">r</span></span><span id="MJXc-Node-2383" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2384" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2385" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2386" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2387" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2388" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-2389" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.32em; padding-bottom: 0.426em;">−</span></span><span id="MJXc-Node-2390" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2391" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">l</span></span><span id="MJXc-Node-2392" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2393" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2394" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2395" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.081em;">M</span></span><span id="MJXc-Node-2396" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">i</span></span><span id="MJXc-Node-2397" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2398" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2399" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2400" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-2401" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">)</span></span><span id="MJXc-Node-2402" class="mjx-texatom"><span id="MJXc-Node-2403" class="mjx-mrow"><span id="MJXc-Node-2404" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">/</span></span></span></span><span id="MJXc-Node-2405" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2406" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">r</span></span><span id="MJXc-Node-2407" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2408" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">b</span></span><span id="MJXc-Node-2409" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.32em; padding-right: 0.032em;">S</span></span><span id="MJXc-Node-2410" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">l</span></span><span id="MJXc-Node-2411" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2412" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2413" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2414" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">A</span></span><span id="MJXc-Node-2415" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">l</span></span><span id="MJXc-Node-2416" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">l</span></span><span id="MJXc-Node-2417" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2418" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">c</span></span><span id="MJXc-Node-2419" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">a</span></span><span id="MJXc-Node-2420" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2421" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2422" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-2423" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">)</span></span><span id="MJXc-Node-2424" class="mjx-texatom"><span id="MJXc-Node-2425" class="mjx-mrow"><span id="MJXc-Node-2426" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">/</span></span></span></span><span id="MJXc-Node-2427" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">m</span></span><span id="MJXc-Node-2428" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2429" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mi>E</mi><mi>S</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>P</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>d</mi><mo>−</mo><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>M</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>d</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mi>A</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>m</mi><mi>o</mi><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-54">PES = ((slotsProposed - slotsMissed)/probSlotsAllocated) / mod</script></span></p><p><span>Where </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-55-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi><mi>o</mi><mi>d</mi><mo>=</mo><mi>e</mi><mi>p</mi><mi>o</mi><mi>c</mi><mi>h</mi><mi>s</mi><mi>A</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>A</mi><mi>t</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>O</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 118%; position: relative;"><span id="MJXc-Node-2430" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2431" class="mjx-mrow"><span id="MJXc-Node-2432" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">m</span></span><span id="MJXc-Node-2433" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2434" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-2435" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.056em; padding-bottom: 0.32em;">=</span></span><span id="MJXc-Node-2436" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2437" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2438" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2439" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">c</span></span><span id="MJXc-Node-2440" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">h</span></span><span id="MJXc-Node-2441" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2442" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">A</span></span><span id="MJXc-Node-2443" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">c</span></span><span id="MJXc-Node-2444" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2445" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">i</span></span><span id="MJXc-Node-2446" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">v</span></span><span id="MJXc-Node-2447" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2448" class="mjx-texatom"><span id="MJXc-Node-2449" class="mjx-mrow"><span id="MJXc-Node-2450" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">/</span></span></span></span><span id="MJXc-Node-2451" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-2452" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">(</span></span><span id="MJXc-Node-2453" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2454" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">r</span></span><span id="MJXc-Node-2455" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2456" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.479em;">p</span></span><span id="MJXc-Node-2457" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">o</span></span><span id="MJXc-Node-2458" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2459" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2460" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">A</span></span><span id="MJXc-Node-2461" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2462" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.267em;">L</span></span><span id="MJXc-Node-2463" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2464" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">a</span></span><span id="MJXc-Node-2465" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">s</span></span><span id="MJXc-Node-2466" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.426em; padding-bottom: 0.267em;">t</span></span><span id="MJXc-Node-2467" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.479em; padding-bottom: 0.32em;">O</span></span><span id="MJXc-Node-2468" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">n</span></span><span id="MJXc-Node-2469" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">c</span></span><span id="MJXc-Node-2470" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.215em; padding-bottom: 0.267em;">e</span></span><span id="MJXc-Node-2471" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.479em; padding-bottom: 0.585em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>o</mi><mi>d</mi><mo>=</mo><mi>e</mi><mi>p</mi><mi>o</mi><mi>c</mi><mi>h</mi><mi>s</mi><mi>A</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>P</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>A</mi><mi>t</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>O</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-55">mod = epochsActive / P(proposeAtLeastOnce)</script></span></p><p><span>Armed with this, we went ahead and computed the PES score for all validators in Medalla and looked at how these aggregates stack up across the client and identity groupings we introduced earlier. The results are presented below.</span></p><p><img src="https://i.imgur.com/BVSlv5m.png" alt=""></p><p><span>When only considering the time weighted score Prysm edges ahead of Lighthouse, but when accounting for probability of proposing at least once, Lighthouse seems ahead by a factor of 3 - likely as many LH clients came online as Medalla rolled on.</span></p><p><img src="https://i.imgur.com/V3hnwsg.png" alt=""></p><p><span>The group that we have mapped to Rocketpool scores at the top of the list, with a caveat in that since most of its validators entered much later in the Testnet, its performance disproportionately higher.</span></p><p><span>And also, here is how the blown out view of the total proposal slots that the groupings by “identity” were involved in performed:</span></p><p><img src="https://i.imgur.com/4OJ8pBZ.png" alt=""></p><p><span>Our goal is to combine the two scores (attester and proposer) in one “master” validator effectiveness score. We will backfill this section once we blow out the attester effectiveness analysis on the whole dataset.</span></p><h2 id="Conclusion" data-id="Conclusion"><a class="anchor hidden-xs" href="#Conclusion" title="Conclusion"><span class="octicon octicon-link"></span></a><span>Conclusion</span></h2><p><span>An open financial system, world computer, other, is only valuable if it’s accessible. We hope that with this piece of work we made the esoteric world of eth2 Phase0 a little more accessible .</span></p><h2 id="Helpful-Resouces" data-id="Helpful-Resouces"><a class="anchor hidden-xs" href="#Helpful-Resouces" title="Helpful-Resouces"><span class="octicon octicon-link"></span></a><span>Helpful Resouces</span></h2><ul>
<li><span>Setup Ethereum 2.0 Validator Node with Lighthouse on Meddala, Goerli </span><a href="https://medium.com/coinmonks/how-to-setup-ethereum-2-0-validator-node-lighthouse-meddala-goerli-4f0b85d5c8f" target="_blank" rel="noopener"><span>[Coinmonks]</span></a></li>
<li><span>Ethereum 2.0 Phase 0 – The Beacon Chain </span><a href="https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/beacon-chain.md" target="_blank" rel="noopener"><span>[Github]</span></a></li>
<li><span>A note on Ethereum 2.0 attestation aggregation strategies </span><a href="https://notes.ethereum.org/@hww/aggregation" target="_blank" rel="noopener"><span>[ethereum.org]</span></a></li>
<li><span>Analysis of Eth1 data votes on Medalla </span><a href="https://github.com/ethereum/eth2.0-specs/issues/2018" target="_blank" rel="noopener"><span>[benjaminion]</span></a></li>
</ul><h2 id="Acknowledgements" data-id="Acknowledgements"><a class="anchor hidden-xs" href="#Acknowledgements" title="Acknowledgements"><span class="octicon octicon-link"></span></a><span>Acknowledgements</span></h2><p><span>We would like to thank, in no particular order</span></p><blockquote>
<p><span>Viktor Bunin, Sasha Semenyuk, Mark Forscher, Andrew Tam and the team at Bison Trails,  Shahid Thaika, Nani S, Lakshman S, Danny Ryan, Preston Van Loon, Raul Jordan</span></p>
</blockquote><p><span>For their help and guidance in our research</span></p><h2 id="About-the-authors" data-id="About-the-authors"><a class="anchor hidden-xs" href="#About-the-authors" title="About-the-authors"><span class="octicon octicon-link"></span></a><span>About the authors</span></h2><p><em><span>Elias works in Protocol Ops at Bison Trails. Sid leads Blockchain Research at Coinbase. This report was an independent collaborative research effort to review the overall performance of the Medalla Testnet, answering the EF’s call for submissions on the eth2 Medalla Testnet data challenge.</span></em></p></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Eth2-Medalla-Data-Analysis" title="Eth2 Medalla Data Analysis">Eth2 Medalla Data Analysis</a><ul class="nav">
<li><a href="#Table-of-Contents" title="Table of Contents">Table of Contents</a></li>
<li><a href="#Key-Takeaways" title="Key Takeaways">Key Takeaways</a></li>
<li><a href="#Benchmarking-Client-Performance" title="Benchmarking Client Performance">Benchmarking Client Performance</a></li>
<li><a href="#Validator-Groupings" title="Validator Groupings">Validator Groupings</a><ul class="nav">
<li><a href="#Grouping-results" title="Grouping results">Grouping results</a></li>
</ul>
</li>
<li><a href="#Big-Picture" title="Big Picture">Big Picture</a><ul class="nav">
<li><a href="#Epochs-2000-to-4000-a-rough-time-for-Medalla" title="Epochs 2000 to 4000; a rough time for Medalla">Epochs 2000 to 4000; a rough time for Medalla</a></li>
<li><a href="#Slashings" title="Slashings">Slashings</a></li>
<li><a href="#Defining-normality-missed-to-proposed-blocks" title="Defining normality: missed-to-proposed blocks">Defining normality: missed-to-proposed blocks</a></li>
</ul>
</li>
<li><a href="#Network-Health" title="Network Health">Network Health</a><ul class="nav">
<li><a href="#Network-health-Detected-to-Total-slashable-offences" title="Network health: Detected-to-Total slashable offences">Network health: Detected-to-Total slashable offences</a></li>
<li><a href="#Network-health-Aggregate-inclusion-delay" title="Network health: Aggregate inclusion delay">Network health: Aggregate inclusion delay</a></li>
<li><a href="#Network-health-Finality" title="Network health: Finality">Network health: Finality</a></li>
</ul>
</li>
<li><a href="#Aggregation-Performance" title="Aggregation Performance">Aggregation Performance</a><ul class="nav">
<li><a href="#Committee-growth-over-time" title="Committee growth over time">Committee growth over time</a></li>
<li><a href="#Zooming-in---attestations-included-on-chain" title="Zooming in - attestations included on-chain">Zooming in - attestations included on-chain</a></li>
</ul>
</li>
<li class=""><a href="#Validator-Effectiveness" title="Validator Effectiveness">Validator Effectiveness</a><ul class="nav">
<li><a href="#Attester-effectiveness" title="Attester effectiveness">Attester effectiveness</a></li>
<li class=""><a href="#Proposer-effectiveness" title="Proposer effectiveness">Proposer effectiveness</a></li>
</ul>
</li>
<li><a href="#Conclusion" title="Conclusion">Conclusion</a></li>
<li><a href="#Helpful-Resouces" title="Helpful Resouces">Helpful Resouces</a></li>
<li><a href="#Acknowledgements" title="Acknowledgements">Acknowledgements</a></li>
<li><a href="#About-the-authors" title="About the authors">About the authors</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#Eth2-Medalla-Data-Analysis" title="Eth2 Medalla Data Analysis">Eth2 Medalla Data Analysis</a><ul class="nav">
<li><a href="#Table-of-Contents" title="Table of Contents">Table of Contents</a></li>
<li><a href="#Key-Takeaways" title="Key Takeaways">Key Takeaways</a></li>
<li><a href="#Benchmarking-Client-Performance" title="Benchmarking Client Performance">Benchmarking Client Performance</a></li>
<li><a href="#Validator-Groupings" title="Validator Groupings">Validator Groupings</a><ul class="nav">
<li><a href="#Grouping-results" title="Grouping results">Grouping results</a></li>
</ul>
</li>
<li><a href="#Big-Picture" title="Big Picture">Big Picture</a><ul class="nav">
<li><a href="#Epochs-2000-to-4000-a-rough-time-for-Medalla" title="Epochs 2000 to 4000; a rough time for Medalla">Epochs 2000 to 4000; a rough time for Medalla</a></li>
<li><a href="#Slashings" title="Slashings">Slashings</a></li>
<li><a href="#Defining-normality-missed-to-proposed-blocks" title="Defining normality: missed-to-proposed blocks">Defining normality: missed-to-proposed blocks</a></li>
</ul>
</li>
<li><a href="#Network-Health" title="Network Health">Network Health</a><ul class="nav">
<li><a href="#Network-health-Detected-to-Total-slashable-offences" title="Network health: Detected-to-Total slashable offences">Network health: Detected-to-Total slashable offences</a></li>
<li><a href="#Network-health-Aggregate-inclusion-delay" title="Network health: Aggregate inclusion delay">Network health: Aggregate inclusion delay</a></li>
<li><a href="#Network-health-Finality" title="Network health: Finality">Network health: Finality</a></li>
</ul>
</li>
<li><a href="#Aggregation-Performance" title="Aggregation Performance">Aggregation Performance</a><ul class="nav">
<li><a href="#Committee-growth-over-time" title="Committee growth over time">Committee growth over time</a></li>
<li><a href="#Zooming-in---attestations-included-on-chain" title="Zooming in - attestations included on-chain">Zooming in - attestations included on-chain</a></li>
</ul>
</li>
<li class=""><a href="#Validator-Effectiveness" title="Validator Effectiveness">Validator Effectiveness</a><ul class="nav">
<li><a href="#Attester-effectiveness" title="Attester effectiveness">Attester effectiveness</a></li>
<li class=""><a href="#Proposer-effectiveness" title="Proposer effectiveness">Proposer effectiveness</a></li>
</ul>
</li>
<li><a href="#Conclusion" title="Conclusion">Conclusion</a></li>
<li><a href="#Helpful-Resouces" title="Helpful Resouces">Helpful Resouces</a></li>
<li><a href="#Acknowledgements" title="Acknowledgements">Acknowledgements</a></li>
<li><a href="#About-the-authors" title="About the authors">About the authors</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
